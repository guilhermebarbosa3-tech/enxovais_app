/* Otimizações para Mobile */

/* Ajusta padding geral */
.main .block-container {
    padding: 1rem !important;
    max-width: 100% !important;
}

/* Reduz espaçamento entre elementos */
.stMarkdown, .stText {
    margin-bottom: 0.5rem !important;
}

/* Otimiza forms */
.stForm {
    padding: 0.5rem !important;
}

/* Melhora inputs em mobile */
input, textarea, select {
    font-size: 16px !important; /* Evita zoom no iOS */
}

/* Ajusta botões */
.stButton button {
    width: 100%;
    padding: 0.5rem !important;
    font-size: 1rem !important;
}

/* Otimiza colunas em mobile */
@media (max-width: 768px) {
    .row-widget.stHorizontal {
        flex-direction: column !important;
    }
    
    .stColumn {
        width: 100% !important;
        padding: 0 !important;
    }
}

/* Otimiza expanders */
.streamlit-expanderHeader {
    font-size: 1rem !important;
}

/* Melhora tabelas */
@media (max-width: 768px) {
    table {
        font-size: 0.85rem !important;
    }
}

/* Ajusta métricas */
[data-testid="stMetric"] {
    padding: 0.5rem !important;
}

/* Otimiza file uploader */
[data-testid="stFileUploader"] {
    padding: 0.5rem !important;
}

/* Reduz tamanho de títulos em mobile */
@media (max-width: 768px) {
    h1 {
        font-size: 1.5rem !important;
    }
    
    h2 {
        font-size: 1.25rem !important;
    }
    
    h3 {
        font-size: 1.1rem !important;
    }
}

/* ===== SIDEBAR MOBILE FIX ===== */
/* Wrapper para sidebar com posicionamento correto */
[data-testid="stSidebar"] {
    width: 100% !important;
    max-width: 100% !important;
    transition: transform 0.3s ease-in-out !important;
    z-index: 999 !important;
    position: fixed !important;
    left: 0 !important;
    top: 0 !important;
    height: 100vh !important;
    background: white !important;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3) !important;
}

@media (max-width: 768px) {
    /* Quando colapsada, desloca para fora da tela */
    [data-testid="stSidebar"][aria-expanded="false"] {
        transform: translateX(-120%) !important;
        visibility: hidden !important;
    }
    
    /* Quando aberta, volta para a posição normal */
    [data-testid="stSidebar"][aria-expanded="true"] {
        transform: translateX(0) !important;
        visibility: visible !important;
        width: 280px !important;
        max-width: 80vw !important;
    }
}

/* Overlay semi-transparente quando sidebar aberta em mobile */
@media (max-width: 768px) {
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 500;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease;
    }
    
    /* Mostrar overlay quando sidebar está aberta */
    [data-testid="stSidebar"][aria-expanded="true"] ~ * {
        /* Este seletor não funciona, usaremos JS */
    }
}
