/* Otimizações para Mobile */

/* Ajusta padding geral */
.main .block-container {
    padding: 1rem !important;
    max-width: 100% !important;
}

/* Reduz espaçamento entre elementos */
.stMarkdown, .stText {
    margin-bottom: 0.5rem !important;
}

/* Otimiza forms */
.stForm {
    padding: 0.5rem !important;
}

/* Melhora inputs em mobile */
input, textarea, select {
    font-size: 16px !important; /* Evita zoom no iOS */
}

/* Ajusta botões */
.stButton button {
    width: 100%;
    padding: 0.5rem !important;
    font-size: 1rem !important;
}

/* Otimiza colunas em mobile */
@media (max-width: 768px) {
    .row-widget.stHorizontal {
        flex-direction: column !important;
    }
    
    .stColumn {
        width: 100% !important;
        padding: 0 !important;
    }
}

/* Ajusta sidebar para telas maiores e comportamentos em mobile */
/* Não forçar 100% (causava sobreposição). Mantemos largura padrão e
   controlamos apenas o comportamento no colapso em telas pequenas. */
[data-testid="stSidebar"] {
    width: 300px !important;
    max-width: 300px !important;
}

@media (max-width: 768px) {
    /* Quando expandida em mobile, ocupa até 80% da largura e fica acima do conteúdo */
    [data-testid="stSidebar"][aria-expanded="true"] {
        width: 80% !important;
        max-width: 80% !important;
        z-index: 1200 !important;
        box-shadow: 0 0 20px rgba(0,0,0,0.4) !important;
    }

    /* Quando colapsada em mobile, deslocamos para fora da tela para não sobrepor */
    [data-testid="stSidebar"][aria-expanded="false"] {
        transform: translateX(-110%) !important;
    }
}

/* Otimiza expanders */
.streamlit-expanderHeader {
    font-size: 1rem !important;
}

/* Melhora tabelas */
@media (max-width: 768px) {
    table {
        font-size: 0.85rem !important;
    }
}

/* Ajusta métricas */
[data-testid="stMetric"] {
    padding: 0.5rem !important;
}

/* Otimiza file uploader */
[data-testid="stFileUploader"] {
    padding: 0.5rem !important;
}

/* Reduz tamanho de títulos em mobile */
@media (max-width: 768px) {
    h1 {
        font-size: 1.5rem !important;
    }
    
    h2 {
        font-size: 1.25rem !important;
    }
    
    h3 {
        font-size: 1.1rem !important;
    }
}
